"use client";

import Image from "next/image";
import Link from "next/link";
import React from "react";
import { useMenu } from "@/context/MenuContext";
import { useScreenWidth } from "@/context/ScreenWidthContext";

export default function Menu() {
  const [activeLink, setActiveLink] = React.useState(null);
  const { menuController } = useMenu();
  const windowWidth = useScreenWidth();

  const navOptions = [
    {
      id: 1,
      label: "Home",
      icon1: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="#DFDFDF"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
            strokeWidth="2"
            d="M20 19v-8.5a1 1 0 0 0-.4-.8l-7-5.25a1 1 0 0 0-1.2 0l-7 5.25a1 1 0 0 0-.4.8V19a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-3a1 1 0 1 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1"
          />
        </svg>
      ),
      icon2: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="#15bd81"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
            strokeWidth="2"
            d="M20 19v-8.5a1 1 0 0 0-.4-.8l-7-5.25a1 1 0 0 0-1.2 0l-7 5.25a1 1 0 0 0-.4.8V19a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-3a1 1 0 1 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1"
          />
        </svg>
      ),
    },
    {
      id: 2,
      label: "Produtos",
      icon1: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
        >
          <path
            d="M1.40625 1.6875C0.938672 1.6875 0.5625 2.06367 0.5625 2.53125V4.21875C0.5625 4.68633 0.938672 5.0625 1.40625 5.0625H3.09375C3.56133 5.0625 3.9375 4.68633 3.9375 4.21875V2.53125C3.9375 2.06367 3.56133 1.6875 3.09375 1.6875H1.40625ZM6.75 2.25C6.12773 2.25 5.625 2.75273 5.625 3.375C5.625 3.99727 6.12773 4.5 6.75 4.5H16.875C17.4973 4.5 18 3.99727 18 3.375C18 2.75273 17.4973 2.25 16.875 2.25H6.75ZM6.75 7.875C6.12773 7.875 5.625 8.37773 5.625 9C5.625 9.62227 6.12773 10.125 6.75 10.125H16.875C17.4973 10.125 18 9.62227 18 9C18 8.37773 17.4973 7.875 16.875 7.875H6.75ZM6.75 13.5C6.12773 13.5 5.625 14.0027 5.625 14.625C5.625 15.2473 6.12773 15.75 6.75 15.75H16.875C17.4973 15.75 18 15.2473 18 14.625C18 14.0027 17.4973 13.5 16.875 13.5H6.75ZM0.5625 8.15625V9.84375C0.5625 10.3113 0.938672 10.6875 1.40625 10.6875H3.09375C3.56133 10.6875 3.9375 10.3113 3.9375 9.84375V8.15625C3.9375 7.68867 3.56133 7.3125 3.09375 7.3125H1.40625C0.938672 7.3125 0.5625 7.68867 0.5625 8.15625ZM1.40625 12.9375C0.938672 12.9375 0.5625 13.3137 0.5625 13.7812V15.4688C0.5625 15.9363 0.938672 16.3125 1.40625 16.3125H3.09375C3.56133 16.3125 3.9375 15.9363 3.9375 15.4688V13.7812C3.9375 13.3137 3.56133 12.9375 3.09375 12.9375H1.40625Z"
            fill="#DFDFDF"
          />
        </svg>
      ),
      icon2: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
        >
          <path
            d="M1.40625 1.6875C0.938672 1.6875 0.5625 2.06367 0.5625 2.53125V4.21875C0.5625 4.68633 0.938672 5.0625 1.40625 5.0625H3.09375C3.56133 5.0625 3.9375 4.68633 3.9375 4.21875V2.53125C3.9375 2.06367 3.56133 1.6875 3.09375 1.6875H1.40625ZM6.75 2.25C6.12773 2.25 5.625 2.75273 5.625 3.375C5.625 3.99727 6.12773 4.5 6.75 4.5H16.875C17.4973 4.5 18 3.99727 18 3.375C18 2.75273 17.4973 2.25 16.875 2.25H6.75ZM6.75 7.875C6.12773 7.875 5.625 8.37773 5.625 9C5.625 9.62227 6.12773 10.125 6.75 10.125H16.875C17.4973 10.125 18 9.62227 18 9C18 8.37773 17.4973 7.875 16.875 7.875H6.75ZM6.75 13.5C6.12773 13.5 5.625 14.0027 5.625 14.625C5.625 15.2473 6.12773 15.75 6.75 15.75H16.875C17.4973 15.75 18 15.2473 18 14.625C18 14.0027 17.4973 13.5 16.875 13.5H6.75ZM0.5625 8.15625V9.84375C0.5625 10.3113 0.938672 10.6875 1.40625 10.6875H3.09375C3.56133 10.6875 3.9375 10.3113 3.9375 9.84375V8.15625C3.9375 7.68867 3.56133 7.3125 3.09375 7.3125H1.40625C0.938672 7.3125 0.5625 7.68867 0.5625 8.15625ZM1.40625 12.9375C0.938672 12.9375 0.5625 13.3137 0.5625 13.7812V15.4688C0.5625 15.9363 0.938672 16.3125 1.40625 16.3125H3.09375C3.56133 16.3125 3.9375 15.9363 3.9375 15.4688V13.7812C3.9375 13.3137 3.56133 12.9375 3.09375 12.9375H1.40625Z"
            fill="#15bd81"
          />
        </svg>
      ),
    },
    {
      id: 3,
      label: "Categorias",
      icon1: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="#DFDFDF"
        >
          <path
            d="M12.25 14.875H17.5M3.5 3.5H8.75V8.75H3.5V3.5ZM12.25 3.5H17.5V8.75H12.25V3.5ZM3.5 12.25H8.75V17.5H3.5V12.25Z"
            stroke="#DFDFDF"
            strokeWidth="1.75"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
      icon2: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="#15bd81"
        >
          <path
            d="M12.25 14.875H17.5M3.5 3.5H8.75V8.75H3.5V3.5ZM12.25 3.5H17.5V8.75H12.25V3.5ZM3.5 12.25H8.75V17.5H3.5V12.25Z"
            stroke="#15bd81"
            strokeWidth="1.75"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
    },
    {
      id: 4,
      label: "Minha Conta",
      icon1: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
        >
          <path
            d="M8 0C9.06087 0 10.0783 0.421427 10.8284 1.17157C11.5786 1.92172 12 2.93913 12 4C12 5.06087 11.5786 6.07828 10.8284 6.82843C10.0783 7.57857 9.06087 8 8 8C6.93913 8 5.92172 7.57857 5.17157 6.82843C4.42143 6.07828 4 5.06087 4 4C4 2.93913 4.42143 1.92172 5.17157 1.17157C5.92172 0.421427 6.93913 0 8 0ZM8 10C12.42 10 16 11.79 16 14V16H0V14C0 11.79 3.58 10 8 10Z"
            fill="#DFDFDF"
          />
        </svg>
      ),
      icon2: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
        >
          <path
            d="M8 0C9.06087 0 10.0783 0.421427 10.8284 1.17157C11.5786 1.92172 12 2.93913 12 4C12 5.06087 11.5786 6.07828 10.8284 6.82843C10.0783 7.57857 9.06087 8 8 8C6.93913 8 5.92172 7.57857 5.17157 6.82843C4.42143 6.07828 4 5.06087 4 4C4 2.93913 4.42143 1.92172 5.17157 1.17157C5.92172 0.421427 6.93913 0 8 0ZM8 10C12.42 10 16 11.79 16 14V16H0V14C0 11.79 3.58 10 8 10Z"
            fill="#15bd81"
          />
        </svg>
      ),
    },
    {
      id: 5,
      label: "Configurações",
      icon1: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M12.432 4.22625C12.8287 4.34875 13.2078 4.50625 13.5695 4.69875L15.1734 3.73625C15.3406 3.63594 15.5366 3.59438 15.7301 3.61816C15.9237 3.64193 16.1038 3.72969 16.2418 3.8675L17.1325 4.75825C17.2703 4.89624 17.3581 5.07631 17.3818 5.26987C17.4056 5.46343 17.3641 5.65938 17.2637 5.82662L16.3012 7.4305C16.4937 7.79217 16.6513 8.17133 16.7738 8.568L18.5876 9.02212C18.7768 9.06953 18.9448 9.17879 19.0648 9.33257C19.1848 9.48634 19.25 9.67581 19.25 9.87088V11.1291C19.25 11.3242 19.1848 11.5137 19.0648 11.6674C18.9448 11.8212 18.7768 11.9305 18.5876 11.9779L16.7738 12.432C16.6513 12.8287 16.4937 13.2078 16.3012 13.5695L17.2637 15.1734C17.3641 15.3406 17.4056 15.5366 17.3818 15.7301C17.3581 15.9237 17.2703 16.1038 17.1325 16.2418L16.2418 17.1325C16.1038 17.2703 15.9237 17.3581 15.7301 17.3818C15.5366 17.4056 15.3406 17.3641 15.1734 17.2637L13.5695 16.3012C13.2078 16.4937 12.8287 16.6513 12.432 16.7738L11.9779 18.5876C11.9305 18.7768 11.8212 18.9448 11.6674 19.0648C11.5137 19.1848 11.3242 19.25 11.1291 19.25H9.87088C9.67581 19.25 9.48634 19.1848 9.33257 19.0648C9.17879 18.9448 9.06953 18.7768 9.02212 18.5876L8.568 16.7738C8.17486 16.6523 7.79401 16.4941 7.4305 16.3012L5.82662 17.2637C5.65938 17.3641 5.46343 17.4056 5.26987 17.3818C5.07631 17.3581 4.89624 17.2703 4.75825 17.1325L3.8675 16.2418C3.72969 16.1038 3.64193 15.9237 3.61816 15.7301C3.59438 15.5366 3.63594 15.3406 3.73625 15.1734L4.69875 13.5695C4.50594 13.206 4.34774 12.8251 4.22625 12.432L2.41237 11.9779C2.2233 11.9305 2.05546 11.8214 1.93547 11.6678C1.81547 11.5142 1.7502 11.3249 1.75 11.13V9.87175C1.75001 9.67669 1.81519 9.48722 1.9352 9.33344C2.05521 9.17967 2.22316 9.0704 2.41237 9.023L4.22625 8.56888C4.34875 8.17221 4.50625 7.79304 4.69875 7.43138L3.73625 5.8275C3.63594 5.66026 3.59438 5.4643 3.61816 5.27074C3.64193 5.07718 3.72969 4.89711 3.8675 4.75913L4.75825 3.8675C4.89624 3.72969 5.07631 3.64193 5.26987 3.61816C5.46343 3.59438 5.65938 3.63594 5.82662 3.73625L7.4305 4.69875C7.79217 4.50625 8.17133 4.34875 8.568 4.22625L9.02212 2.41237C9.06949 2.2233 9.17863 2.05546 9.33222 1.93547C9.48582 1.81547 9.67509 1.7502 9.87 1.75H11.1283C11.3233 1.75001 11.5128 1.81519 11.6666 1.9352C11.8203 2.05521 11.9296 2.22316 11.977 2.41237L12.432 4.22625ZM10.5 14C11.4283 14 12.3185 13.6313 12.9749 12.9749C13.6313 12.3185 14 11.4283 14 10.5C14 9.57174 13.6313 8.6815 12.9749 8.02513C12.3185 7.36875 11.4283 7 10.5 7C9.57174 7 8.6815 7.36875 8.02513 8.02513C7.36875 8.6815 7 9.57174 7 10.5C7 11.4283 7.36875 12.3185 8.02513 12.9749C8.6815 13.6313 9.57174 14 10.5 14Z"
            fill="#DFDFDF"
          />
        </svg>
      ),
      icon2: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M12.432 4.22625C12.8287 4.34875 13.2078 4.50625 13.5695 4.69875L15.1734 3.73625C15.3406 3.63594 15.5366 3.59438 15.7301 3.61816C15.9237 3.64193 16.1038 3.72969 16.2418 3.8675L17.1325 4.75825C17.2703 4.89624 17.3581 5.07631 17.3818 5.26987C17.4056 5.46343 17.3641 5.65938 17.2637 5.82662L16.3012 7.4305C16.4937 7.79217 16.6513 8.17133 16.7738 8.568L18.5876 9.02212C18.7768 9.06953 18.9448 9.17879 19.0648 9.33257C19.1848 9.48634 19.25 9.67581 19.25 9.87088V11.1291C19.25 11.3242 19.1848 11.5137 19.0648 11.6674C18.9448 11.8212 18.7768 11.9305 18.5876 11.9779L16.7738 12.432C16.6513 12.8287 16.4937 13.2078 16.3012 13.5695L17.2637 15.1734C17.3641 15.3406 17.4056 15.5366 17.3818 15.7301C17.3581 15.9237 17.2703 16.1038 17.1325 16.2418L16.2418 17.1325C16.1038 17.2703 15.9237 17.3581 15.7301 17.3818C15.5366 17.4056 15.3406 17.3641 15.1734 17.2637L13.5695 16.3012C13.2078 16.4937 12.8287 16.6513 12.432 16.7738L11.9779 18.5876C11.9305 18.7768 11.8212 18.9448 11.6674 19.0648C11.5137 19.1848 11.3242 19.25 11.1291 19.25H9.87088C9.67581 19.25 9.48634 19.1848 9.33257 19.0648C9.17879 18.9448 9.06953 18.7768 9.02212 18.5876L8.568 16.7738C8.17486 16.6523 7.79401 16.4941 7.4305 16.3012L5.82662 17.2637C5.65938 17.3641 5.46343 17.4056 5.26987 17.3818C5.07631 17.3581 4.89624 17.2703 4.75825 17.1325L3.8675 16.2418C3.72969 16.1038 3.64193 15.9237 3.61816 15.7301C3.59438 15.5366 3.63594 15.3406 3.73625 15.1734L4.69875 13.5695C4.50594 13.206 4.34774 12.8251 4.22625 12.432L2.41237 11.9779C2.2233 11.9305 2.05546 11.8214 1.93547 11.6678C1.81547 11.5142 1.7502 11.3249 1.75 11.13V9.87175C1.75001 9.67669 1.81519 9.48722 1.9352 9.33344C2.05521 9.17967 2.22316 9.0704 2.41237 9.023L4.22625 8.56888C4.34875 8.17221 4.50625 7.79304 4.69875 7.43138L3.73625 5.8275C3.63594 5.66026 3.59438 5.4643 3.61816 5.27074C3.64193 5.07718 3.72969 4.89711 3.8675 4.75913L4.75825 3.8675C4.89624 3.72969 5.07631 3.64193 5.26987 3.61816C5.46343 3.59438 5.65938 3.63594 5.82662 3.73625L7.4305 4.69875C7.79217 4.50625 8.17133 4.34875 8.568 4.22625L9.02212 2.41237C9.06949 2.2233 9.17863 2.05546 9.33222 1.93547C9.48582 1.81547 9.67509 1.7502 9.87 1.75H11.1283C11.3233 1.75001 11.5128 1.81519 11.6666 1.9352C11.8203 2.05521 11.9296 2.22316 11.977 2.41237L12.432 4.22625ZM10.5 14C11.4283 14 12.3185 13.6313 12.9749 12.9749C13.6313 12.3185 14 11.4283 14 10.5C14 9.57174 13.6313 8.6815 12.9749 8.02513C12.3185 7.36875 11.4283 7 10.5 7C9.57174 7 8.6815 7.36875 8.02513 8.02513C7.36875 8.6815 7 9.57174 7 10.5C7 11.4283 7.36875 12.3185 8.02513 12.9749C8.6815 13.6313 9.57174 14 10.5 14Z"
            fill="#15bd81"
          />
        </svg>
      ),
    },
  ];

  return (
    <aside
      className={`side_menu xms:min-h-[700px] z-10 ${
        menuController ? "left-0" : "left-[-100%]"
      } flex flex-col justify-between p-4 rounded-r-2xl transition-all duration-300  ${
        windowWidth < 990
          ? "absolute bg-[var(--green-500)]"
          : "static md:bg-[unset] gap-12 p-0"
      }  `}
      data-menu
    >
      {windowWidth < 990 && (
        <Image alt="Oakboard Logo" src="/oaklogo.svg" width={120} height={40} />
      )}

      <nav className=" side_menu flex flex-col mt-8 ps:mt-0 gap-4">
        {navOptions.map((link) => (
          <Link
            href={
              link.label.toLowerCase() === "home"
                ? "/"
                : link.label.toLowerCase() === "configurações"
                ? "configuracoes"
                : link.label.toLowerCase().replace(" ", "-")
            }
            key={link.id}
            onClick={() => setActiveLink(link.id)}
            className={`side_menu flex gap-2 text-sm ps:text-base items-center pt-2 pb-2 pl-3 ps:pt-3 ps:pb-3 ps:pl-4 pr-8 w-[max-content] rounded-3xl transition-all duration-300 ps:hover:bg-[var(--green-500)] font-semibold
            ${
              false
                ? "text-[var(--green-100)] bg-[var(--green-150)]"
                : "text-[var(--withe-100)]"
            }`}
          >
            <span className="w-6 h-6">
              {activeLink === link.id ? link.icon2 : link.icon1}
            </span>
            {link.label}
          </Link>
        ))}
      </nav>

      <div className="notice flex flex-col gap-4 max-w-[160px] mt-12 ps:mt-0">
        <p className="text-sm md:text-base text-[var(--white-100)] font-medium ">
          Quer saber mais sobre este projeto?
        </p>
        <a
          href="https://github.com/edusantsouza/oakboard"
          target="_blank"
          className=" flex items-center gap-2 bg-[var(--green-150)] px-4 py-2 md:py-4 text-sm md:text-base rounded-md w-[max-content] transition-all hover:bg-[var(--green-200)]"
        >
          Ver repositório
          <Image
            src="/newtab.svg"
            alt="Nova aba ícone"
            height={24}
            width={24}
          />
        </a>
      </div>

      <div className=" info_app flex flex-col gap-4 mt-12 ps:mt-0">
        <p className="text-xs flex gap-1 flex-wrap">
          Desenvolvido por
          <a
            href="https://www.linkedin.com/in/eduardo-sant-souza/"
            target="_blank"
            rel="noopener noreferrer"
            className="
          font-semibold
          text-[var(--green-100)]
          "
          >
            Eduardo Sant
          </a>
        </p>
        <p className=" text-[var(--white-100)] text-xs">
          Dashboard versão 1.0.0
        </p>
      </div>
    </aside>
  );
}
